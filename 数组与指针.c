#include <stdio.h>

int main() {
    int a[5] = {1, 2, 3, 4, 5};
    
    // 1. 数组变量本身表达地址，无需用&取地址
    printf("a = %p\n", a);          // 数组名本身就是地址
    printf("&a[0] = %p\n", &a[0]);  // 与第一个元素的地址相同
    printf("a == &a[0]: %d\n\n", a == &a[0]); // 输出1(true)
    
    // 2. 数组单元表达的是变量，需要用&取地址
    printf("a[0] = %d\n", a[0]);    // 数组单元是变量值
    printf("&a[0] = %p\n\n", &a[0]);// 需要&获取单元地址
    
    // 3. []运算符可以对数组和指针做
    int *p = a; // p指向数组a
    printf("a[1] = %d\n", a[1]);    // 数组使用[]
    printf("p[1] = %d\n\n", p[1]);  // 指针也可以使用[]
    
    // 4. *运算符可以对指针和数组做
    printf("*a = %d\n", *a);        // 对数组使用*，等价于a[0]
    printf("*p = %d\n\n", *p);      // 对指针使用*
    
    // 5. 通过指针修改数组元素
    *a = 10;        // 等价于 a[0] = 10
    printf("修改后 a[0] = %d\n", a[0]);
    
    *(a + 1) = 20;  // 等价于 a[1] = 20
    printf("修改后 a[1] = %d\n\n", a[1]);
    
    // 6. 数组变量是const的指针，不能被赋值
    // int b[5];
    // b = a; // 错误！数组变量不能被赋值
    // b++;   // 错误！数组变量不能自增
    
    // 但指针变量可以
    p = a;     // 正确：指针可以被赋值
    p++;       // 正确：指针可以自增
    printf("p++后 *p = %d\n", *p); // 现在指向a[1]
    
    return 0;
}
